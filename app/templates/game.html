{% extends "playerList.html" %}

{% block content %}
    <h2 id="bbq" style="text-align: center;">Bazen Bar & BBQ</h2>
        <div id="rezultat1" style="text-align: center;">{{ current_opponent.home_team_points }}</div>
        <br>
        <div style="text-align: center;">VS</div>
        <br>
        <h2 id="nasportnik" style="text-align: center;">{{ current_opponent.team_name }}</h2>
        <div id="result2" style="text-align: center;">{{ current_opponent.points }}</div>

        <br><br>
        <button class="editStat" id="1pm" type="button" points="{{ current_opponent.points }}">1PM</button>
        <button class="editStat" id="2pm" type="button" points="{{ current_opponent.points }}">2PM</button>
        <button class="editStat" id="3pm" type="button" points="{{ current_opponent.points }}">3PM</button>

        <button class="editStat" id="minus1" type="button" points="{{ current_opponent.points }}">-1</button>
        <!-- <button class="editStat" type="button" id="confirm" status="false">Potrdi</button> -->

        <a href="{{ url_for('final_stat') }}"><button type="submit" class="editStat">Konƒçaj tekmo</button></a>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script>
        $(document).ready(function () {
            $('#1pm').on('click', function () {
                const points = $(this).attr('points');

                const req = $.ajax({
                    url: '/add_points',
                    type: 'POST',
                    data: {points: points, increment: 1}
                });

                req.done(function (data) {
                    $('#result2').text(data.points);
                });
            });
        });

        $(document).ready(function () {
            $('#2pm').on('click', function () {
                const points = $(this).attr('points');

                const req = $.ajax({
                    url: '/add_points',
                    type: 'POST',
                    data: {points: points, increment: 2}
                });

                req.done(function (data) {
                    $('#result2').text(data.points);
                });
            });
        });

        $(document).ready(function () {
            $('#3pm').on('click', function () {
                const points = $(this).attr('points');

                const req = $.ajax({
                    url: '/add_points',
                    type: 'POST',
                    data: {points: points, increment: 3}
                });

                req.done(function (data) {
                    $('#result2').text(data.points);
                });
            });
        });

        $(document).ready(function () {
            $('#minus1').on('click', function () {
                const points = $(this).attr('points');

                const req = $.ajax({
                    url: '/add_points',
                    type: 'POST',
                    data: {points: points, increment: -1}
                });

                req.done(function (data) {
                    $('#result2').text(data.points);
                });
            });
        });
    </script>
{% endblock %}